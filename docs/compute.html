<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>compute - ABI Framework Documentation</title>
  <meta name="description" content="">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/abi/assets/css/style.css">
</head>
<body>
<nav class="navbar">
  <div class="nav-container">
    <a href="/abi/" class="nav-logo">
      <span class="logo-text">ABI</span>
      <span class="logo-version">v0.16.0</span>
    </a>
    <div class="nav-links">
      <a href="/abi/">Home</a>
      <a href="/abi/intro.html">Docs</a>
      <a href="https://github.com/donaldfilimon/abi" target="_blank">GitHub</a>
    </div>
    <button class="theme-toggle" onclick="toggleTheme()"><span class="theme-icon">üåô</span></button>
  </div>
</nav>
<div class="main-container">
  <main class="content" style="margin-left: 0;">
    <article class="doc-article">
      <header class="doc-header">
        <h1>compute</h1>
      </header>
      <nav class="toc"><h3>On this page</h3><ul>
        <li style="padding-left: 0px"><a href="#compute-engine">Compute Engine</a></li>
        <li style="padding-left: 16px"><a href="#feature-overview">Feature Overview</a></li>
        <li style="padding-left: 16px"><a href="#quick-start">Quick Start</a></li>
        <li style="padding-left: 16px"><a href="#architecture">Architecture</a></li>
        <li style="padding-left: 16px"><a href="#timeout-semantics">Timeout Semantics</a></li>
        <li style="padding-left: 16px"><a href="#advanced-features">Advanced Features</a></li>
        <li style="padding-left: 32px"><a href="#numa-cpu-affinity">NUMA & CPU Affinity</a></li>
        <li style="padding-left: 32px"><a href="#concurrency-primitives">Concurrency Primitives</a></li>
        <li style="padding-left: 32px"><a href="#futures-cancellation">Futures & Cancellation</a></li>
        <li style="padding-left: 16px"><a href="#api-reference">API Reference</a></li>
        <li style="padding-left: 32px"><a href="#engine-functions">Engine Functions</a></li>
        <li style="padding-left: 32px"><a href="#core-types">Core Types</a></li>
        <li style="padding-left: 32px"><a href="#futures-promises">Futures & Promises</a></li>
        <li style="padding-left: 32px"><a href="#cancellation">Cancellation</a></li>
        <li style="padding-left: 32px"><a href="#task-groups">Task Groups</a></li>
        <li style="padding-left: 32px"><a href="#workloads">Workloads</a></li>
        <li style="padding-left: 16px"><a href="#see-also">See Also</a></li>
        <li style="padding-left: 32px"><a href="#related-guides">Related Guides</a></li>
        <li style="padding-left: 32px"><a href="#resources">Resources</a></li>
      </ul></nav>
      <div class="doc-content"><h1 id="compute-engine">Compute Engine<a class="anchor" href="#compute-engine">#</a></h1>
<blockquote><strong>Codebase Status:</strong> Synced with repository as of 2026-01-23.</blockquote>

<p>&lt;p align=&quot;center&quot;&gt;</p>
<p>  &lt;img src=&quot;https://img.shields.io/badge/Module-Compute-red?style=for-the-badge&amp;logo=speedtest&amp;logoColor=white&quot; alt=&quot;Compute Module&quot;/&gt;</p>
<p>  &lt;img src=&quot;https://img.shields.io/badge/Status-Ready-success?style=for-the-badge&quot; alt=&quot;Ready&quot;/&gt;</p>
<p>  &lt;img src=&quot;https://img.shields.io/badge/Scheduler-Work_Stealing-blue?style=for-the-badge&quot; alt=&quot;Work Stealing&quot;/&gt;</p>
<p>&lt;/p&gt;</p>

<p>&lt;p align=&quot;center&quot;&gt;</p>
<p>  &lt;a href=&quot;#quick-start&quot;&gt;Quick Start&lt;/a&gt; ‚Ä¢</p>
<p>  &lt;a href=&quot;#architecture&quot;&gt;Architecture&lt;/a&gt; ‚Ä¢</p>
<p>  &lt;a href=&quot;#advanced-features&quot;&gt;Advanced&lt;/a&gt; ‚Ä¢</p>
<p>  &lt;a href=&quot;#api-reference&quot;&gt;API Reference&lt;/a&gt;</p>
<p>&lt;/p&gt;</p>

<hr>

<blockquote><strong>Note</strong>: GPU functionality is a separate top-level module - see <a href="gpu.md">GPU Guide</a>.</blockquote>

<p>Work-stealing scheduler for efficient concurrent task execution.</p>

<h2 id="feature-overview">Feature Overview<a class="anchor" href="#feature-overview">#</a></h2>

<tr><td>Feature</td><td>Description</td><td>Status</td></tr>
<tr><td><strong>Work-Stealing</strong></td><td>LIFO owner, FIFO thieves</td><td>!<a href="https://img.shields.io/badge/-Ready-success">Ready</a></td></tr>
<tr><td><strong>NUMA-Aware</strong></td><td>NUMA topology support</td><td>!<a href="https://img.shields.io/badge/-Ready-success">Ready</a></td></tr>
<tr><td><strong>Lock-Free</strong></td><td>CAS-based data structures</td><td>!<a href="https://img.shields.io/badge/-Ready-success">Ready</a></td></tr>
<tr><td><strong>Futures</strong></td><td>Async result handling</td><td>!<a href="https://img.shields.io/badge/-Ready-success">Ready</a></td></tr>
<tr><td><strong>Cancellation</strong></td><td>Cooperative cancellation</td><td>!<a href="https://img.shields.io/badge/-Ready-success">Ready</a></td></tr>
<tr><td><strong>Task Groups</strong></td><td>Hierarchical tasks</td><td>!<a href="https://img.shields.io/badge/-Ready-success">Ready</a></td></tr>

<h2 id="quick-start">Quick Start<a class="anchor" href="#quick-start">#</a></h2>

<pre class="code-block language-zig"><code>const abi = @import(&quot;abi&quot;);

// Create engine
var engine = try abi.runtime.createDefaultEngine(allocator);
defer engine.deinit();

// Run a task
fn myTask(_: std.mem.Allocator) !u32 {
    return 42;
}

const result = try abi.runtime.runTask(&amp;engine, u32, myTask, 1000);

// Or submit/wait separately
const task_id = try abi.runtime.submitTask(&amp;engine, u32, myTask);
const result2 = try abi.runtime.waitForResult(&amp;engine, u32, task_id, 1000);
</code></pre>

<h2 id="architecture">Architecture<a class="anchor" href="#architecture">#</a></h2>

<pre class="code-block language-text"><code>src/runtime/           # Engine, scheduler, futures, cancellation
  ‚îú‚îÄ‚îÄ engine/          # Task engine implementation
  ‚îú‚îÄ‚îÄ scheduling/      # Future, CancellationToken, TaskGroup
  ‚îú‚îÄ‚îÄ concurrency/     # Lock-free primitives, priority queue
  ‚îî‚îÄ‚îÄ memory/          # Memory utilities
src/gpu/               # GPU acceleration (separate module)
</code></pre>

<h2 id="timeout-semantics">Timeout Semantics<a class="anchor" href="#timeout-semantics">#</a></h2>

<li><code>timeout_ms=0</code>: Non-blocking, returns <code>EngineError.Timeout</code> immediately if not ready</li>
<li><code>timeout_ms&gt;0</code>: Blocks up to <code>timeout_ms</code> milliseconds</li>
<li><code>timeout_ms=null</code>: Waits indefinitely</li>

<blockquote><strong>Breaking Change (v0.2.1)</strong>: <code>timeout_ms=0</code> now returns <code>Timeout</code> instead of checking once.</blockquote>

<h2 id="advanced-features">Advanced Features<a class="anchor" href="#advanced-features">#</a></h2>

<h3 id="numa-cpu-affinity">NUMA &amp; CPU Affinity<a class="anchor" href="#numa-cpu-affinity">#</a></h3>

<pre class="code-block language-zig"><code>var engine = try abi.runtime.createEngine(allocator, .{
    .numa_enabled = true,
    .cpu_affinity_enabled = true,
});
</code></pre>

<h3 id="concurrency-primitives">Concurrency Primitives<a class="anchor" href="#concurrency-primitives">#</a></h3>

<li><code>WorkStealingQueue</code> - LIFO owner, FIFO thieves</li>
<li><code>LockFreeQueue/Stack</code> - Atomic CAS-based</li>
<li><code>PriorityQueue</code> - Lock-free priority scheduling</li>
<li><code>ShardedMap</code> - Contention-reducing sharding</li>

<h3 id="futures-cancellation">Futures &amp; Cancellation<a class="anchor" href="#futures-cancellation">#</a></h3>

<pre class="code-block language-zig"><code>const Future = abi.runtime.Future;
const CancellationToken = abi.runtime.CancellationToken;
const TaskGroup = abi.runtime.TaskGroup;
</code></pre>

<hr>

<h2 id="api-reference">API Reference<a class="anchor" href="#api-reference">#</a></h2>

<p><strong>Source:</strong> <code>src/runtime/mod.zig</code></p>

<h3 id="engine-functions">Engine Functions<a class="anchor" href="#engine-functions">#</a></h3>

<tr><td>Function</td><td>Description</td></tr>
<tr><td><code>createEngine(allocator, config)</code></td><td>Create compute engine with custom config</td></tr>
<tr><td><code>submitTask(engine, ResultType, task)</code></td><td>Submit task for execution, returns task ID</td></tr>
<tr><td><code>waitForResult(engine, ResultType, id, timeout_ms)</code></td><td>Wait for task result by ID</td></tr>
<tr><td><code>runTask(engine, ResultType, task, timeout_ms)</code></td><td>Submit and wait for result in one call</td></tr>
<tr><td><code>runWorkload(engine, ResultType, work, timeout_ms)</code></td><td>Alias for <code>runTask()</code></td></tr>

<h3 id="core-types">Core Types<a class="anchor" href="#core-types">#</a></h3>

<li><code>DistributedComputeEngine</code> - Main engine instance</li>
<li><code>EngineConfig</code> - Engine configuration</li>
<li><code>EngineError</code> - Engine error types</li>
<li><code>TaskId</code> - Task identifier</li>

<h3 id="futures-promises">Futures &amp; Promises<a class="anchor" href="#futures-promises">#</a></h3>

<li><code>Future(ResultType)</code> - Async result with <code>.then()</code>, <code>.catch()</code></li>
<li><code>Promise(ResultType)</code> - Future producer</li>
<li><code>all(...)</code> - Wait for all futures</li>
<li><code>race(...)</code> - Wait for first future</li>
<li><code>delay(ms)</code> - Delayed future</li>

<h3 id="cancellation">Cancellation<a class="anchor" href="#cancellation">#</a></h3>

<li><code>CancellationToken</code> - Cooperative cancellation</li>
<li><code>CancellationSource</code> - Token source</li>
<li><code>LinkedCancellation</code> - Linked cancellation tokens</li>

<h3 id="task-groups">Task Groups<a class="anchor" href="#task-groups">#</a></h3>

<li><code>TaskGroup</code> - Hierarchical task organization</li>
<li><code>TaskGroupConfig</code> - Group configuration</li>
<li><code>parallelForEach()</code> - Parallel iteration</li>

<h3 id="workloads">Workloads<a class="anchor" href="#workloads">#</a></h3>

<li><code>WorkloadVTable</code> - Workload interface</li>
<li><code>GPUWorkloadVTable</code> - GPU workload interface</li>
<li><code>WorkItem</code> - Work item type</li>
<li><code>matMul</code>, <code>dense</code>, <code>relu</code> - Built-in workload operations</li>

<hr>

<h2 id="see-also">See Also<a class="anchor" href="#see-also">#</a></h2>

<p>&lt;table&gt;</p>
<p>&lt;tr&gt;</p>
<p>&lt;td&gt;</p>

<h3 id="related-guides">Related Guides<a class="anchor" href="#related-guides">#</a></h3>
<li><a href="gpu.md">GPU Guide</a> ‚Äî GPU acceleration</li>
<li><a href="network.md">Network</a> ‚Äî Distributed compute</li>
<li><a href="monitoring.md">Monitoring</a> ‚Äî Metrics and profiling</li>

<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>

<h3 id="resources">Resources<a class="anchor" href="#resources">#</a></h3>
<li><a href="framework.md">Framework</a> ‚Äî Framework configuration</li>
<li><a href="../API_REFERENCE.md">API Reference</a> ‚Äî Compute API details</li>
<li><a href="../examples/">Examples</a> ‚Äî Code samples</li>

<p>&lt;/td&gt;</p>
<p>&lt;/tr&gt;</p>
<p>&lt;/table&gt;</p>

<hr>

<p>&lt;p align=&quot;center&quot;&gt;</p>
<p>  &lt;a href=&quot;monitoring.md&quot;&gt;‚Üê Monitoring Guide&lt;/a&gt; ‚Ä¢</p>
<p>  &lt;a href=&quot;docs-index.md&quot;&gt;Documentation Index&lt;/a&gt; ‚Ä¢</p>
<p>  &lt;a href=&quot;gpu.md&quot;&gt;GPU Guide ‚Üí&lt;/a&gt;</p>
<p>&lt;/p&gt;</p>

</div>
    </article>
  </main>
</div>
<footer class="footer" style="margin-left: 0;">
  <div class="footer-content">
    <div class="footer-section">
      <h4>ABI Framework</h4>
      <p>Modern Zig framework for AI services and high-performance systems.</p>
    </div>
  </div>
  <div class="footer-bottom"><p>&copy; 2026 ABI Framework. Built with Zig.</p></div>
</footer>
<script src="/abi/assets/js/main.js"></script>
</body>
</html>
